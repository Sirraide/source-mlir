/// R ./srcc %s --hlir

/// d t %[a-zA-Z0-9_]+

/// * (?<I>$t) = hlir.local_var
/// * (?<J>$t) = hlir.local_var
int i = 1;
int j = 2;

/// ======= Reference Binding =======
/// * (?<R1I>$t) = hlir.local_var
/// + hlir.store into $R1I : [^%]+, $I
int& r1i = i;

/// * (?<R1J>$t) = hlir.local_var
/// + (?<R1I_0>$t) = hlir.load $R1I
/// + hlir.store into $R1J : [^%]+, $R1I_0
int& r1j = r1i;

/// ======= Autodereferencing =======
/// * (?<COPY_I>$t) = hlir.local_var
/// + (?<R1I_1>$t) = hlir.load $R1I
/// + (?<I_1>$t) = hlir.load $R1I_1
/// + hlir.store into $COPY_I : [^%]+, $I_1
int copy_i = r1i;

/// * (?<R1I_2>$t) = hlir.load $R1I
/// + (?<I_2>$t) = hlir.load $R1I_2
/// + hlir.store into $I : [^%]+, $I_2
i = r1i;

/// * (?<R1I_3>$t) = hlir.load $R1I
/// + (?<R1J_0>$t) = hlir.load $R1J
/// + (?<J_0>$t) = hlir.load $R1J_0
/// + hlir.store into $R1I_3 : [^%]+, $J_0
r1i = r1j;

/// ===== Trivial Rebinding =====
/// * hlir.store into $R1I : [^%]+, $J
/// + (?<R1J_1>$t) = hlir.load $R1J
/// + hlir.store into $R1I : [^%]+, $R1J_1
r1i => j;
r1i => r1j;

/// ===== Multi-level Ref Decls =====
/// * (?<R2I>$t) = hlir.local_var
/// + hlir.store into $R2I : [^%]+, $R1I
int&& r2i = r1i;

/// * (?<R2J>$t) = hlir.local_var
/// + hlir.store into $R2J : [^%]+, $R1J
int&& r2j = r1j;

/// * (?<R3I>$t) = hlir.local_var
/// + hlir.store into $R3I : [^%]+, $R2I
int&&& r3i = r2i;

/// * (?<R3J>$t) = hlir.local_var
/// + hlir.store into $R3J : [^%]+, $R2J
int&&& r3j = r2j;

/// ===== Multi-level Ref Assignment =====
/// * (?<R2I_0>$t) = hlir.load $R2I
/// + (?<R1I_4>$t) = hlir.load $R2I_0
/// + (?<J_1>$t) = hlir.load $J
/// + hlir.store into $R1I_4 : [^%]+, $J_1
r2i = j;

/// * (?<R3I_0>$t) = hlir.load $R3I
/// + (?<R2I_1>$t) = hlir.load $R3I_0
/// + (?<R1I_5>$t) = hlir.load $R2I_1
/// + (?<J_2>$t) = hlir.load $J
/// + hlir.store into $R1I_5 : [^%]+, $J_2
r3i = j;

/// * (?<R2J_0>$t) = hlir.load $R2J
/// + (?<R1J_2>$t) = hlir.load $R2J_0
/// + (?<R3J_0>$t) = hlir.load $R3J
/// + (?<R2J_1>$t) = hlir.load $R3J_0
/// + (?<R1J_3>$t) = hlir.load $R2J_1
/// + (?<J_3>$t) = hlir.load $R1J_3
/// + hlir.store into $R1J_2 : [^%]+, $J_3
r2j = r3j;

/// * (?<R3I_1>$t) = hlir.load $R3I
/// + (?<R2I_2>$t) = hlir.load $R3I_1
/// + (?<R1I_6>$t) = hlir.load $R2I_2
/// + (?<R2I_3>$t) = hlir.load $R2I
/// + (?<R1I_7>$t) = hlir.load $R2I_3
/// + (?<I_3>$t) = hlir.load $R1I_7
/// + hlir.store into $R1I_6 : [^%]+, $I_3
r3i = r2i;

/// * (?<R3I_2>$t) = hlir.load $R3I
/// + (?<R2I_4>$t) = hlir.load $R3I_2
/// + (?<R1I_8>$t) = hlir.load $R2I_4
/// + (?<R1I_9>$t) = hlir.load $R1I
/// + (?<I_4>$t) = hlir.load $R1I_9
/// + hlir.store into $R1I_8 : [^%]+, $I_4
r3i = r1i;

/// * (?<R2J_2>$t) = hlir.load $R2J
/// + (?<R1J_4>$t) = hlir.load $R2J_2
/// + (?<R1J_5>$t) = hlir.load $R1J
/// + (?<J_4>$t) = hlir.load $R1J_5
/// + hlir.store into $R1J_4 : [^%]+, $J_4
r2j = r1j;

/// ===== Multi-level Rebinding =====
/// * hlir.store into $R2I : [^%]+, $R1J
/// + hlir.store into $R3J : [^%]+, $R2I
r2i => r1j;
r3j => r2i;

/// ===== Indirect Rebinding =====
/// * (?<R2I_5>$t) = hlir.load $R2I
/// + hlir.store into $R2I_5 : [^%]+, $I
*r2i => i;

/// * (?<R3J_1>$t) = hlir.load $R3J
/// + hlir.store into $R3J_1 : [^%]+, $R1I
*r3j => r1i;

/// * (?<R3I_3>$t) = hlir.load $R3I
/// + (?<R2I_6>$t) = hlir.load $R3I_3
/// + hlir.store into $R2I_6 : [^%]+, $J
**r3i => j;

/// * (?<R3J_2>$t) = hlir.load $R3J
/// + (?<R2J_3>$t) = hlir.load $R3J_2
/// + (?<R3I_4>$t) = hlir.load $R3I
/// + (?<R2I_7>$t) = hlir.load $R3I_4
/// + (?<R1I_10>$t) = hlir.load $R2I_7
/// + hlir.store into $R2J_3 : [^%]+, $R1I_10
**r3j => r3i;
